<!DOCTYPE HTML>
<HTML LANG="en">
    <HEAD>
        <META CHARSET="UTF-8">
        <LINK REL="stylesheet" TYPE="text/css" HREF="./css/master.css">
        <TITLE>One Quantitative Variable, Multiple Group (Collaborative)</TITLE>
	    <script src="./js/d3.v3.min.js"></script>
        <SCRIPT SRC="./js/jstat.min.js"></SCRIPT>
        <SCRIPT SRC="./js/stapplet_latest.js"></SCRIPT>
        <SCRIPT SRC="./js/collab_common_quant.js"></SCRIPT>
        <SCRIPT SRC="./js/quant1v_multi_collab.js"></SCRIPT>
    </HEAD>
    <BODY>
        <SPAN CLASS="errormsg" id="spnBrowserMsg"></SPAN>
        <DIV ID="divHeader" ROLE="banner">
            <SPAN CLASS="header">One Quantitative Variable,
                Multiple Group (collaborative)</SPAN>
        </DIV>
        <FORM>
            <DIV ID="divCodes">
                <INPUT TYPE="button" ID="btnNewClassCode" VALUE="Start a new class code as a teacher" onClick="newClassCode(1,2);"><BR>
                <INPUT TYPE="button" ID="btnEnterClassCode" VALUE="Enter an existing class code" onClick="enterClassCode();"><BR>
            </DIV>
            <DIV ID="divGraphBasicOptions">
                <BR>Class code: <SPAN ID="spnClassCode">{none}</SPAN>
                <BR>Class data will automatically update roughly every 5 - 10 seconds.
                <BR>A new entry may briefly disappear before reappearing in the next update.
                <BR><SPAN ID="spnLastUpdate"></SPAN>
                <BR><BR>
                <LABEL FOR="selInputGroup">Choose a group: </LABEL>
                <SELECT ID="selInputGroup" onchange="handleGroupSelect();"></SELECT><BR>
                <LABEL FOR="txtDataAdd">Enter a value for the selected group: </LABEL>
                <INPUT TYPE="number" ID="txtDataAdd" onKeyDown="if (event.which == 13 || event.keyCode == 13) addSingleData();">
                <INPUT TYPE="button" ID="btnDataAdd" VALUE="Add to plot" onClick="addSingleData();">
                <INPUT TYPE="button" ID="btnUndoLastAdd" VALUE="Undo last add" onClick="undoLastAdd();" DISABLED="true">
                <SPAN ID="spnDataAddMsg"></SPAN><BR>
            </DIV>
            <DIV ID="divGraphDistributions">
                <H3>Graph Distributions</H3>
                <SPAN ID="spnGraphOptions">
                    <LABEL FOR="selGraphType">Graph type:</LABEL>
                    <SELECT ID="selGraphType" onChange="updateGraphDistributions()">
                        <OPTION VALUE="dotplot">Dotplot</OPTION>
                        <OPTION VALUE="histogram">Histogram</OPTION>
                        <OPTION VALUE="boxplot">Boxplot</OPTION>
                        <OPTION VALUE="stemplot" ID="optStemplot">Stemplot</OPTION>
                        <OPTION VALUE="normplot">Normal probability plot</OPTION>
                    </SELECT>
                </SPAN>
                <SPAN ID="spnHistogramOptions">
                    <LABEL FOR="selHistogramLabel">Label histogram with:</LABEL>
                    <SELECT ID="selHistogramLabel" onChange="updateGraphDistributions()">
                        <OPTION VALUE="freq">Frequency</OPTION>
                        <OPTION VALUE="rel">Relative frequency</OPTION>
                    </SELECT><BR>
                    <LABEL FOR="txtHistogramBinWidth">Enter interval width:</LABEL>
                    <INPUT TYPE="number" STEP="0.1" CLASS="ctl" ID="txtHistogramBinWidth" SIZE="4" onChange="updateGraphDistributions()">
                    <LABEL FOR="txtHistogramBinAlignment">Enter boundary value:</LABEL>
                    <INPUT TYPE="number" STEP="0.1" CLASS="ctl" ID="txtHistogramBinAlignment" SIZE="4" onChange="updateGraphDistributions()">
                    <INPUT TYPE="button" ID="btnResetIntervals" VALUE="Reset intervals to default" onClick="resetHistogramOptions()">
                    <SPAN CLASS="errormsg" ID="spnHistogramOptionsErrorMsg"></SPAN>
                </SPAN><BR>
		        <DIV ID="divPlot"></DIV>
                <DIV ID="divStemplot">
                    Split stems:
                    <SELECT ID="selStemplotStems" onChange="updateGraphDistributions()">
                        <OPTION VALUE="1">No</OPTION>
                        <OPTION VALUE="2">Yes, into two groups</OPTION>
                        <OPTION VALUE="5">Yes, into five groups</OPTION>
                    </SELECT><BR>
                    Shift stem <INPUT ID="numSigAdj" TYPE="number" MIN="0" MAX="20" VALUE="0" onChange="updateGraphDistributions()"> additional decimal places to the left, truncating as needed.<BR>
                    Collapse groups of empty stems? <SELECT ID="selGapHide" onChange="updateGraphDistributions()">
                        <OPTION VALUE="no">No</OPTION>
                        <OPTION VALUE="yes">Yes</OPTION>
                    </SELECT>
                    <SPAN ID="spnGapHide"> Collapse groups of <INPUT ID="numGapHide" TYPE="number" MIN="3" MAX="99" VALUE="3" onChange="updateGraphDistributions()"> or more empty stems.</SPAN>
                    <DIV ID="divStemplotPlot" CLASS="stemplotContainer"></DIV>
                </DIV>
                <DIV ID="divNormPlots"></DIV>
                <TEXTAREA ID="txtGraphDataCSV"></TEXTAREA>
                <INPUT TYPE="button" ID="btnGetData" VALUE="Download current data" onClick="exportGraphData();">
                <INPUT TYPE="button" ID="btnGetData" VALUE="Analyze current data in non-collaborative version" onClick="transferDataNC();"><BR>
                For inference options, click the button to analyze current data in the non-collaborative version.<BR>
            </DIV>
            <DIV ID="divSummaryStatistics">
                <H3>Summary Statistics</H3>
                <SPAN ID="spnSummaryStatistics"></SPAN><BR>
                <INPUT TYPE="button" ID="btnExportSummary" VALUE="Export summary statistics" onClick="exportSummaryStatistics()">
                <TEXTAREA TITLE="Summary Statistics" ID="txtSummaryStatisticsCSV"></TEXTAREA>
            </DIV>
            <DIV ID="divGraphAdmin">
                <BR><INPUT TYPE="button" ID="btnEnterAdminCode" VALUE="Enter admin code to enable teacher privileges" onClick="enterAdminCode();">
                <DIV ID="divGraphAdminOptions">
                    <FIELDSET STYLE="display: inline;"><LEGEND><STRONG>Teacher Panel</STRONG></LEGEND>
                    Admin code: <SPAN ID="spnAdminCode">{none}</SPAN><BR>
                    <INPUT TYPE="button" ID="btnPauseStudent" VALUE="Pause data collection" onClick="toggleEnabled();">
                    <SPAN ID="spnRenewBtn">
                        <INPUT TYPE="button" ID="btnRenew" VALUE="Extend data collection for 5 minutes" onClick="renewDataCollection();">
                    </SPAN>
                    <BR><BR>
                    <LABEL FOR="txtVariableName">Variable name:</LABEL> <INPUT TYPE="text" VALUE="Variable" ID="txtVariableName" onKeyDown="if (event.which == 13 || event.keyCode == 13) handleVariableNameChange();" SIZE="30">
                    <INPUT TYPE="button" ID="btnVariableName" VALUE="Update variable name" onClick="handleVariableNameChange();">
                    <SPAN ID="spnVariableNameMsg"></SPAN><BR><BR>
                    Work with group: <SELECT ID="selGroup" onChange="handleAdminGroupSelect();"></SELECT><BR>
                    Add data to this group's plot (separate with spaces or commas): <INPUT TYPE="text" SIZE="30" ID="txtAdminBatchData" onKeyDown="if (event.which == 13 || event.keyCode == 13) addBatchData();"><INPUT TYPE="button" ID="btnAdminBatchData" VALUE="Add these observations" onClick="addBatchData();"><BR>
                    Delete a value from this group's plot: <INPUT TYPE="number" ID="txtAdminDelete" onKeyDown="if (event.which == 13 || event.keyCode == 13) deleteSingle();"><INPUT TYPE="button" ID="btnAdminDelete" VALUE="Delete observation" onClick="deleteSingle();"><BR>
                    (Mouse over data to see exact values.) <SPAN ID="spnDataDeleteMsg"></SPAN><BR>
                    <INPUT TYPE="button" ID="btnDeleteGroupData" VALUE="Clear this group's data" onClick="deleteGroupData();">
                    <INPUT TYPE="button" ID="btnDeleteGroup" VALUE="Delete this group" onClick="deleteGroup();">
                    <INPUT TYPE="button" ID="btnRenameGroup" VALUE="Rename this group" onClick="renameGroup();"><BR>
                    <SPAN ID="spnEditMsg"></SPAN>
                    <SPAN ID="spnGroupNameMsg"></SPAN><BR>
                    <INPUT TYPE="button" ID="btnAddGroup" VALUE="Add a new group" onClick="addGroup();">
                    <SPAN ID="spnAddGroupMsg"></SPAN><BR><BR>
                    <INPUT TYPE="button" ID="btnDataDeleteAll" VALUE="Delete data for all groups" onClick="handleDeleteAllData();">
                    <SPAN ID="spnDataDeleteAllMsg"></SPAN><BR><BR>
                    <INPUT TYPE="button" ID="btnExtend" VALUE="Reset class expiration" onClick="resetClassExpiration();"><BR>
                    </FIELDSET>
                </DIV>
            </DIV>
            <DIV ID="divOverlayWarning"></DIV>
            <!-- Scroll buffer for screen bottom -->
            <BR>
            <A HREF="javascript:STAP.Preferences.launchPreferencePage();">Adjust color, rounding, and percent/proportion preferences</A> | <A HREF="./">Back to menu</A>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
        </FORM>
    </BODY>
</HTML>