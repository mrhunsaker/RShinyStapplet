<!doctype html>
<html lang="en">
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-MVPXVT3DMR"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-MVPXVT3DMR");
        </script>
        <meta charset="UTF-8" />
        <link rel="stylesheet" type="text/css" href="./css/master.css" />
        <title>M&amp;M's/Skittles/Froot Loops</title>
        <script src="./js/d3.v3.min.js"></script>
        <script src="./js/jstat.min.js"></script>
        <script src="./js/stapplet_latest.js"></script>
        <script src="./js/candy.js"></script>
    </head>
    <body>
        <span CLASS="errormsg" id="spnBrowserMsg"></span>
        <div id="divHeader" ROLE="banner">
            <span CLASS="header">M&amp;M's/Skittles/Froot Loops</span>
        </div>
        <form>
            <div>
                <p>
                    Which color distribution are you comparing to?
                    <select id="selCandyType" onChange="handleCandyChange();">
                        <option value="MM">M&amp;M's Milk Chocolate</option>
                        <option value="MT">M&amp;M's (Cleveland, TN)</option>
                        <option value="SK">Skittles</option>
                        <option value="FL">Froot Loops</option>
                    </select>
                </p>
                <div id="divDesc"></div>
                <p>
                    <em
                        >For a more detailed discussion, see the description
                        in</em
                    >
                    The Practice of Statistics, Statistics and Probability with
                    Applications, Introductory Statistics: A Student-Centered
                    Approach,<em>
                        or the free Stats Medic lesson plans for
                        <a
                            href="https://www.statsmedic.com/ced-apstats-unit8-chapter12-day1"
                            target="_blank"
                            >Day 1</a
                        >
                        and
                        <a
                            href="https://www.statsmedic.com/ced-apstats-unit8-chapter12-day2"
                            target="_blank"
                            >Day 2</a
                        >
                        of this activity</em
                    >.
                </p>
                <p>
                    Enter the observed counts for your sample in the table below
                    and press Begin Analysis.
                </p>
                <p>-OR-</p>
                <p>
                    Generate a random sample of size n =
                    <input
                        type="number"
                        id="txtSampleSize"
                        value="30"
                        min="1"
                        step="1"
                    />
                    from the claimed distribution.<br />
                    <input
                        type="button"
                        id="btnGenerateSample"
                        value="Generate sample"
                        onClick="populateSample()"
                    />
                </p>
                <table id="tblData">
                    <tr>
                        <th>Color Name</th>
                        <th>Count</th>
                    </tr>
                    <tr>
                        <td id="tdColor1"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData1"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td id="tdColor2"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData2"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td id="tdColor3"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData3"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td id="tdColor4"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData4"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td id="tdColor5"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData5"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                    <tr id="trRow6">
                        <td id="tdColor6"></td>
                        <td>
                            <input
                                type="text"
                                title="Frequency"
                                class="data"
                                id="txtData6"
                                size="10"
                                onChange="return deactivatePage(this)"
                            />
                        </td>
                    </tr>
                </table>
                <p>
                    <input
                        type="button"
                        id="btnBeginAnalysis"
                        ARIA-LABEL="Begin analysis"
                        value="Begin analysis"
                        onClick="beginAnalysis()"
                    />
                    <input
                        type="button"
                        ARIA-LABEL="Edit inputs"
                        id="btnChangeInputs"
                        value="Edit inputs"
                        onClick="deactivatePage()"
                    />
                    <input
                        type="button"
                        ARIA-LABEL="Reset everything"
                        value="Reset everything"
                        onClick="resetApplet()"
                    />
                    <span ID="spnDataMsg" CLASS="errormsg"></span>
                </p>
            </div>
            <div id="divAnalysis">
                <div
                    id="divPlot"
                    tabindex="0"
                    aria-live="polite"
                    role="region"
                    aria-label="Data plot area"
                ></div>
                <span
                    ID="spnSummaryStatistics"
                    tabindex="0"
                    aria-live="polite"
                    role="region"
                    aria-label="Summary statistics"
                ></span>
                <p>
                    To see if the observed chi-square statistic is unusual,
                    let’s perform a simulation!
                </p>
                <p>
                    Pressing the “Simulate” button generates the requested
                    number of random samples of the same size as the original
                    sample, taken from a population that matches the claimed
                    distribution. Then, the distribution of color in the
                    simulated sample is displayed, and the value of the
                    chi-square test statistic for each sample is calculated and
                    graphed on the dotplot.
                </p>
                <p>
                    Simulate
                    <input
                        type="number"
                        step="1"
                        min="1"
                        max="2000"
                        id="txtNumSamples"
                        value="1"
                        onKeyDown="if (event.which == 13 || event.keyCode == 13) simulateSamples()"
                    />
                    sample(s) and add to the dotplot.<br />The most recent
                    sample's color distribution and &chi;<sup>2</sup> value will
                    be displayed.<br />
                    <input
                        type="button"
                        value="Simulate"
                        onClick="simulateSamples()"
                    />
                    <input
                        type="button"
                        value="Clear simulation"
                        onClick="clearSimulationResults()"
                    />
                    <span ID="spnSimX2"></span>
                </p>
                <div
                    id="divSimulationResults"
                    tabindex="0"
                    aria-live="polite"
                    role="region"
                    aria-label="Simulation results"
                >
                    <div
                        id="divSimDataGraph"
                        tabindex="0"
                        aria-live="polite"
                        role="region"
                        aria-label="Simulated data graph"
                    ></div>
                    <div
                        id="divSimGraph"
                        tabindex="0"
                        aria-live="polite"
                        role="region"
                        aria-label="Simulation plot area"
                    ></div>
                    Total number of simulated samples:
                    <span ID="spnNumTrials"></span><br />
                    <input
                        type="checkbox"
                        id="chkX2"
                        onChange="updateSimulationGraph();"
                    />Plot approximate &chi;<sup>2</sup> density curve<br />
                    <span ID="spnSimulationDotplotCountingOptions">
                        Count the number and percent of dots
                        <select
                            id="selSimulationDotplotCountDir"
                            onChange="handleSimulationDotplotCount()"
                        >
                            <option value="left">less than</option>
                            <option value="right">greater than</option>
                        </select>
                        <label for="txtSimulationDotplotCountBound"
                            >or equal to</label
                        >
                        <input
                            type="text"
                            id="txtSimulationDotplotCountBound"
                            size="5"
                            onChange="handleSimulationDotplotCount()"
                            onKeyDown="if (event.which == 13 || event.keyCode == 13) handleSimulationDotplotCount()"
                        />
                        <input
                            type="button"
                            id="btnDotplotCount"
                            value="Count"
                            onClick="handleSimulationDotplotCount()"
                        />
                        <input
                            type="button"
                            id="btnClearDotplotCount"
                            value="Remove count"
                            onClick="clearSimulationDotplotCount()"
                        /><br />
                        <span ID="divSimGraphSpnCountMsg"></span>
                        <span
                            ID="spnSimulationDotplotCountErrorMsg"
                            CLASS="errormsg"
                        ></span>
                    </span>
                </div>
            </div>
            <!-- Scroll buffer for screen bottom -->
            <br />
            <a href="javascript:STAP.Preferences.launchPreferencePage();"
                >Adjust color, rounding, and percent/proportion preferences</a
            >
            | <a href="./">Back to menu</a>
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
            <br />
        </form>
    </body>
</html>
