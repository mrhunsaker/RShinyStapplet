<!DOCTYPE HTML>
<HTML LANG="en">
    <HEAD>
	<meta name="robots" content="noindex">
        <META CHARSET="UTF-8">
        <LINK REL="stylesheet" TYPE="text/css" HREF="./master.css">
        <TITLE>SPA: Two Categorical Variables</TITLE>
        <SCRIPT SRC="./js/jstat.min.js"></SCRIPT>
        <SCRIPT SRC="./js/spa_0.1.js"></SCRIPT>
        <SCRIPT SRC="./js/cat2v.js"></SCRIPT>
    </HEAD>
    <BODY>
        <SPAN CLASS="errormsg" id="spnBrowserMsg"></SPAN>
        <DIV ID="divHeader" ROLE="banner">
            <TABLE>
                <TR><TD CLASS="header">Two Categorical Variables</TD></TR>
            </TABLE>
        </DIV>
        <FORM ROLE="form">
            <LABEL FOR="selInputType">Input data as:</LABEL>
            <SELECT ID="selInputType" onChange="return handleInputChange(this)">
                <OPTION VALUE="counts">Counts in categories</OPTION>
                <OPTION VALUE="raw">Raw data</OPTION>
            </SELECT><BR><BR>
            <DIV ID="divInputCounts">
                <TABLE ID="tblInputCounts">
                    <TR>
                        <TD ROWSPAN="5" ID="tdRowspanOuter">
                            <LABEL FOR="txtCountsResponseName">Response variable:</LABEL><BR><INPUT TYPE="text" onChange="return deactivatePage(this)" ID="txtCountsResponseName" SIZE="30">
                        </TD>
                        <TD COLSPAN="4" ID="tdColspanUpper"><LABEL FOR="txtCountsExplanatoryName">Explanatory variable:</LABEL> <INPUT TYPE="text" onChange="return deactivatePage(this)" ID="txtCountsExplanatoryName" SIZE="30"></TD>
                    </TR>
                    <TR>
                        <TD></TD>
                        <TD><INPUT TYPE="text" TITLE="Column Name" CLASS="colName" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[column name]')" VALUE="[column name]" SIZE="15"></TD>
                        <TD><INPUT TYPE="text" TITLE="Column Name" CLASS="colName" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[column name]')" VALUE="[column name]" SIZE="15"></TD>
                        <TD ROWSPAN="3" ID="tdRowspanInner" STYLE="vertical-align: top">
                            <INPUT TYPE="button" ID="btnDelCol" VALUE="-" onClick="removeCountsTableColumn()">
                            <INPUT TYPE="button" ID="btnAddCol" VALUE="+" onClick="addCountsTableColumn()">
                        </TD>
                    </TR>
                    <TR>
                        <TD><INPUT TYPE="text" TITLE="Row Name" CLASS="rowName" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[row name]')" VALUE="[row name]" SIZE="15"></TD>
                        <TD><INPUT TYPE="text" TITLE="Row Data" CLASS="data" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[count]')" VALUE="[count]" SIZE="15"></TD>
                        <TD><INPUT TYPE="text" TITLE="Row Data" CLASS="data" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[count]')" VALUE="[count]" SIZE="15"></TD>
                    </TR>
                    <TR>
                        <TD><INPUT TYPE="text" TITLE="Row Name" CLASS="rowName" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[row name]')" VALUE="[row name]" SIZE="15"></TD>
                        <TD><INPUT TYPE="text" TITLE="Row Data" CLASS="data" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[count]')" VALUE="[count]" SIZE="15"></TD>
                        <TD><INPUT TYPE="text" TITLE="Row Data" CLASS="data" onChange="return deactivatePage(this)" onFocus="handleTableEntryFocus(this)" onBlur="handleTableEntryBlur(this,'[count]')" VALUE="[count]" SIZE="15"></TD>
                    </TR>
                    <TR>
                        <TD COLSPAN="4" ID="tdColspanLower" STYLE="text-align: left;">
                            <INPUT TYPE="button" ID="btnDelRow" VALUE="-" onClick="removeCountsTableRow()">
                            <INPUT TYPE="button" ID="btnAddRow" VALUE="+" onClick="addCountsTableRow()">
                        </TD>
                    </TR>
                </TABLE>
            </DIV>
            <DIV ID="divInputRawData">
                <TABLE>
                    <TR>
                        <TH>Variable</TH>
                        <TH>Name</TH>
                        <TH>Observations (separated by commas or spaces)
                            <BR><EM>Keep individuals in the same order.</EM>
                            <BR><EM>Category names cannot contain spaces.</EM></TH>
                    </TR>
                    <TR>
                        <TD><LABEL FOR="txtRawExplanatoryName">Explanatory</LABEL></TD>
                        <TD><INPUT TYPE="text" ID="txtRawExplanatoryName" SIZE="10" onChange="return deactivatePage(this)"></TD>
                        <TD><INPUT TYPE="text" TITLE="Explanatory Data" ID="txtRawExplanatoryData" SIZE="50" onChange="return deactivatePage(this)"></TD>
                    </TR>
                    <TR>
                        <TD><LABEL FOR="txtRawResponseName">Response</LABEL></TD>
                        <TD><INPUT TYPE="text" ID="txtRawResponseName" SIZE="10" onChange="return deactivatePage(this)"></TD>
                        <TD><INPUT TYPE="text" TITLE="Response Data" ID="txtRawResponseData" SIZE="50" onChange="return deactivatePage(this)"></TD>
                    </TR>
                </TABLE>            
            </DIV>
            <SPAN ID="spnDataMsg" CLASS="errormsg"></SPAN><BR>
            <INPUT TYPE="button" VALUE="Begin analysis" onClick="beginAnalysis()">
            <INPUT TYPE="button" ID="btnChangeInputs" VALUE="Edit inputs" onClick="deactivatePage()">
            <INPUT TYPE="button" VALUE="Reset everything" onClick="resetApplet()">
            <DIV ID="divDisplayGraph">
                <H3>Graph Distributions</H3>
                <LABEL FOR="selGraphType">Bar chart type:</LABEL>
                <SELECT ID="selGraphType" onChange="updateGraph()">
                    <OPTION VALUE="stacked">Segmented</OPTION>
                    <OPTION VALUE="side">Side-by-side</OPTION>
                </SELECT>
                <SPAN ID="spnSideBarGraphOptions">
                    <LABEL FOR="selSideBarGraphFreq">Label bar graph with:</LABEL>
                    <SELECT ID="selSideBarGraphFreq" onChange="handleBarGraphFreq(this)">
                        <OPTION VALUE="rel">Relative frequency</OPTION>
                        <OPTION VALUE="freq">Frequency</OPTION>
                    </SELECT>
                </SPAN><BR>
                <CANVAS ID="cnvPlot" WIDTH="500" HEIGHT="300">
                        <SPAN CLASS="errormsg">Your browser does not support canvas graphing.<BR>
                        Please consider using an updated browser.</SPAN>
                </CANVAS><BR>
                <INPUT TYPE="button" VALUE="Export this graph" onClick="exportGraph()">
            </DIV><BR>
            <DIV ID="divSummaryStatistics">
                <H3>Summary Statistics</H3>
                <SPAN ID="spnSummaryStatistics"></SPAN><BR><BR>
                <INPUT TYPE="button" VALUE="Export summary statistics" onClick="exportSummaryStatistics()">
                <TEXTAREA TITLE="Summary Statistics" ID="txtSummaryStatisticsCSV"></TEXTAREA>
            </DIV><BR>
            <DIV ID="divInference">
                <H3>Perform Inference</H3>
                <SPAN ID="spn2CatInferenceOptions">
                    <LABEL FOR="sel2CatInference">Inference procedure:</LABEL>
                    <SELECT ID="sel2CatInference" onChange="handle2CatInferenceChange(this)">
                        <OPTION VALUE="chi">Chi-square test for association</OPTION>
                        <OPTION VALUE="interval">2-sample z interval (p&#x2081; - p&#x2082;)</OPTION>
                        <OPTION VALUE="test">2-sample z test</OPTION>
                    </SELECT>
                    <SPAN ID="spnZIntervalOptions">
                        <LABEL FOR="selCLevel">Confidence level:</LABEL> <SELECT ID="selCLevel">
                            <OPTION VALUE=".90">90%</OPTION>
                            <OPTION VALUE=".95" SELECTED>95%</OPTION>
                            <OPTION VALUE=".99">99%</OPTION>
                        </SELECT>
                    </SPAN>
                    <SPAN ID="spnZTestOptions">
                        <LABEL FOR="selZTestSides">Alternative hypothesis:</LABEL> <SELECT ID="selZTestSides">
                            <OPTION VALUE="0">p&#x2081; - p&#x2082; &lt; 0</OPTION>
                            <OPTION VALUE="1">p&#x2081; - p&#x2082; &#8800; 0</OPTION>
                            <OPTION VALUE="2">p&#x2081; - p&#x2082; &gt; 0</OPTION>
                        </SELECT>
                    </SPAN><BR>
                    <SPAN ID="spnSuccessCat">
                        <LABEL FOR="sel2CatSuccess">Category to indicate as success:</LABEL>
                        <SELECT ID="sel2CatSuccess"></SELECT>
                    </SPAN><BR>
                    <INPUT TYPE="button" VALUE="Perform inference" onClick="updateInference()">
                </SPAN>
                <SPAN ID="spn3CatInferenceOptions">
                    <INPUT TYPE="button" VALUE="Perform chi-squared 2-way test" onClick="updateInference()">
                </SPAN><BR>
                <SPAN ID="spnInferenceMsg" CLASS="errormsg"></SPAN><BR>
                <SPAN ID="spnInferenceResults"></SPAN><BR>
            </DIV>
            <BR>
            <A HREF="javascript:SPAApplet.Preferences.launchPreferencePage();">Adjust rounding and color preferences</A> | <A HREF="./">Back to menu</A>
        </FORM>
    </BODY>
</HTML>