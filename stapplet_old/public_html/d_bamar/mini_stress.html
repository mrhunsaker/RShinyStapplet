<!DOCTYPE HTML>
<HTML LANG="en">
    <HEAD>
    <META CHARSET="UTF-8">
    <LINK REL="stylesheet" TYPE="text/css" HREF="./css/master.css">
    <TITLE>Mini Stress Test</TITLE>
    <script src="./js/d3.v3.min.js"></script>
    <SCRIPT SRC="./js/jstat.min.js"></SCRIPT>
    <SCRIPT SRC="./js/stapplet_1.0.1.js"></SCRIPT>
    <SCRIPT SRC="./js/collab_common_quant.js"></SCRIPT>
    <SCRIPT SRC="./js/mini_stress.js"></SCRIPT>
    </HEAD>
    <BODY>
        <SPAN CLASS="errormsg" id="spnBrowserMsg"></SPAN>
        <DIV ID="divHeader" ROLE="banner">
            <TABLE>
                <TR><TD CLASS="header">Mini Stress Test (Quant 1V)</TD></TR>
            </TABLE>
        </DIV>
        <FORM ROLE="form">
            <DIV ID="divCodes">
                <INPUT TYPE="button" ID="btnNewClassCode" VALUE="Start a new class code as a teacher" onClick="newClassCode();"><BR>
                <INPUT TYPE="button" ID="btnEnterClassCode" VALUE="Enter an existing class code" onClick="enterClassCode();"><BR>
            </DIV>
            <DIV ID="divTest">
                <BR>Class code: <SPAN ID="spnClassCode">{none}</SPAN>
                <P>Refresh time between adds (ms): 
                    <INPUT TYPE="number" MIN="1" ID="txtSingleAddInterval"><BR>
                </P>
                <P>
                Add a random number from 1-100 in separate database calls this many times:
                <INPUT TYPE="number" MIN="1" ID="txtNumSingleAdd" onChange="singleAddStress();" onKeyDown="if (event.which == 13 || event.keyCode == 13) singleAddStress();">
                </P>
                <P>
                Queue a random number from 1-100 for queue add this many times:
                <INPUT TYPE="number" MIN="1" ID="txtNumBatchAdd" onChange="batchAddStress();" onKeyDown="if (event.which == 13 || event.keyCode == 13) batchAddStress();">
                </P>
                <P>
                    Log: <BR><TEXTAREA ID="txtLog" ROWS="10" COLS="80"></TEXTAREA>
                    <BR><INPUT TYPE="button" VALUE="Clear log" onClick="clearTextLog()">
                </P>
                <DIV ID="divPlot"></DIV>
            </DIV>
            <DIV ID="divGraphAdmin">
                <BR><INPUT TYPE="button" ID="btnEnterAdminCode" VALUE="Enter admin code to enable teacher privileges" onClick="enterAdminCode();">
                <DIV ID="divGraphAdminOptions">
                    <FIELDSET STYLE="display: inline;"><LEGEND><STRONG>Teacher Panel</STRONG></LEGEND>
                    Admin code: <SPAN ID="spnAdminCode">{none}</SPAN><BR>
                    <INPUT TYPE="button" ID="btnExtend" VALUE="Reset class expiration" onClick="resetClassExpiration();"><BR>
                    <INPUT TYPE="button" ID="btnPauseStudent" VALUE="Pause student data collection" onClick="toggleEnabled();"><BR>
                    <INPUT TYPE="button" ID="btnDataDeleteAll" VALUE="Delete all data" onClick="handleDeleteAllData();">
                        <SPAN ID="spnDataDeleteMsg"></SPAN>
                        <SPAN ID="spnDataDeleteAllMsg"></SPAN><BR>
                    </FIELDSET>
                </DIV>
            </DIV>
            <!-- Scroll buffer for screen bottom -->
            <BR>
            <A HREF="javascript:STAP.Preferences.launchPreferencePage();">Adjust color, rounding, and percent/proportion preferences</A> | <A HREF="./">Back to menu</A>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
            <BR>
        </FORM>
    </BODY>
</HTML>