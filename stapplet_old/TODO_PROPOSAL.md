stapplet_2025_07_04/TODO_PROPOSAL.md
# TODO Proposal: Enhancing JavaScript Output Accessibility for Screen Readers

This document outlines recommendations for improving the accessibility of dynamic content generated by JavaScript in each HTML file recently edited for ADA/WCAG compliance. The goal is to ensure that all interactive and dynamically updated regions are perceivable and usable by screen reader users.

For each HTML file, the associated JavaScript files are listed, followed by specific proposals to make their output accessible.

---

## 1. oldfaithful.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/oldfaithful.js

**TODOs:**  
- Ensure all chart/plot updates (SVG, Canvas, or HTML) are mirrored in accessible regions (e.g., ARIA live regions, accessible tables, or text summaries).
- Provide text descriptions for scatterplots and sampling distribution plots, updating them dynamically in elements with `aria-live="polite"`.
- Announce sample statistics and distribution results via ARIA live regions.
- Use ARIA roles (`role="img"`, `role="region"`) and `aria-label` for all dynamically generated visualizations.
- For interactive controls, ensure keyboard accessibility and announce changes.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/oldfaithful.js

#### 1. Announce Population Plot and Regression Line

**Location:** `initializePage()` after drawing visualizations

```javascript
// After drawBaseModel() and drawPopulationLSRL()
UI.setProperty("divPopPlotSummary", "innerText", 
    "Population scatterplot with regression line drawn. Duration vs Wait time.");
// Ensure divPopPlotSummary is a region with aria-live="polite" in HTML
```

#### 2. Announce Reset State

**Location:** `resetAll()` after resetting

```javascript
UI.setProperty("divStatus", "innerText", "Activity reset. Population view restored.");
// Ensure divStatus is a region with aria-live="polite" in HTML
```

#### 3. Announce Sample Cleared or Drawn

**Location:** `clearSamples(bKeepSample)` after clearing samples

```javascript
UI.setProperty("divStatus", "innerText", bKeepSample ? 
    "Sample cleared, previous sample retained." : "Sample cleared, new sample drawn.");
```

#### 4. Announce Scatterplot Update

**Location:** `drawBaseModel()` after drawing scatterplot

```javascript
UI.setProperty("divPopPlotSummary", "innerText", 
    "Scatterplot updated with current population data.");
```

#### 5. Announce Regression Line Equation

**Location:** `drawPopulationLSRL()` after drawing regression line

```javascript
UI.setProperty("divPopPlotSummary", "innerText", 
    "Regression line drawn: Wait time = 33.35 + 13.29 Ã— Duration.");
```

#### 6. Announce Sample Drawn

**Location:** `step2(bSkipValidate)` after sample is drawn

```javascript
UI.setProperty("divStatus", "innerText", 
    "Sample of " + sampleSize + " drawn. Sample statistics available.");
```

#### 7. Announce Sampling Distribution Stats

**Location:** `plotSamplingDist()` after plotting sampling distribution

```javascript
UI.setProperty("divApproxDistPlotSummary", "innerText", 
    "Sampling distribution plotted. Mean: " + mean + ", SD: " + SD);
// If normal curve is drawn:
UI.setProperty("divApproxDistPlotSummary", "innerText", 
    "Normal curve overlay added to sampling distribution.");
```

#### 8. Announce Sample Slope

**Location:** `populateSamplingDist(bVerbose, bUseLast)` after updating sample statistics

```javascript
UI.setProperty("spnOneSampleStats", "innerText", "Sample slope: " + val);
```

#### 9. Announce Multiple Samples Drawn

**Location:** `step3()` after multiple samples

```javascript
UI.setProperty("divStatus", "innerText", 
    numSamples + " samples drawn. Sampling distribution updated.");
```

#### 10. General Accessibility Patterns

- For every visualization update, add or update a corresponding ARIA live region (`aria-live="polite"`) with a text summary.
- For every statistical result, ensure it is output to a region with a descriptive label and ARIA attributes.
- Announce state changes (reset, sample drawn, distribution updated) in a dedicated status region.
- Ensure all interactive controls (buttons, sliders) are keyboard accessible and have ARIA labels.

**HTML Example for ARIA Live Regions:**

```html
<div id="divPopPlotSummary" role="status" aria-live="polite"></div>
<div id="divApproxDistPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 2. timberlake_pt1.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/timberlake_common.js  
- js/timberlake_pt1.js

**TODOs:**  
- For crowd plots and sample visualizations, provide alternative text summaries and update them in ARIA live regions.
- Announce changes in sample selection and teacher panel via ARIA live or status regions.
- Ensure all interactive elements are keyboard accessible and have descriptive ARIA labels.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/timberlake_pt1.js

#### 1. Announce Crowd Plot Updates

**Location:** After updating any crowd plot (e.g., in `_generateHelper` or after calling plot functions)

```javascript
UI.setProperty("divSRSPlotSummary", "innerText", "Simple Random Sample crowd plot updated.");
UI.setProperty("divStratifyRowPlotSummary", "innerText", "Stratify by Row crowd plot updated.");
UI.setProperty("divStratifyColumnPlotSummary", "innerText", "Stratify by Column crowd plot updated.");
// Ensure these summary divs have aria-live="polite" in HTML
```

#### 2. Announce Sample Selection

**Location:** After generating a sample in `generateStratifyRow()` and `generateStratifyColumn()`

```javascript
UI.setProperty("divStatus", "innerText", "Stratified sample by row selected. Crowd plot and statistics updated.");
UI.setProperty("divStatus", "innerText", "Stratified sample by column selected. Crowd plot and statistics updated.");
```

#### 3. Announce Mean Calculation

**Location:** After updating mean spans (e.g., after calculating sample mean)

```javascript
UI.setProperty("spnMeanSRS", "innerText", "Mean for SRS group: " + meanValue);
UI.setProperty("spnMeanStratifyRow", "innerText", "Mean for Stratify Row group: " + meanValue);
UI.setProperty("spnMeanStratifyColumn", "innerText", "Mean for Stratify Column group: " + meanValue);
// Ensure these spans have aria-label attributes in HTML
```

#### 4. Announce Table Updates

**Location:** After updating tables (e.g., after sample selection)

```javascript
UI.setProperty("tblSRSStatus", "innerText", "Simple Random Sample table updated with new data.");
UI.setProperty("tblStratifyRowStatus", "innerText", "Stratify by Row table updated with new data.");
UI.setProperty("tblStratifyColumnStatus", "innerText", "Stratify by Column table updated with new data.");
// Ensure these status divs have aria-live="polite" in HTML
```

#### 5. Announce Bulk Sample Generation

**Location:** In `doManyOfflineSamples()` after generating many samples

```javascript
UI.setProperty("divStatus", "innerText", howMany + " samples generated for " + (type == 1 ? "SRS" : type == 2 ? "Stratify Row" : "Stratify Column") + ". Distribution updated.");
```

#### 6. General Accessibility Patterns

- For every visualization update, add or update a corresponding ARIA live region (`aria-live="polite"`) with a text summary.
- For every statistical result, ensure it is output to a region with a descriptive label and ARIA attributes.
- Announce state changes (sample drawn, distribution updated) in a dedicated status region.
- Ensure all interactive controls (buttons, sliders) are keyboard accessible and have ARIA labels.

**HTML Example for ARIA Live Regions:**

```html
<div id="divSRSPlotSummary" role="status" aria-live="polite"></div>
<div id="divStratifyRowPlotSummary" role="status" aria-live="polite"></div>
<div id="divStratifyColumnPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
<div id="tblSRSStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyRowStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyColumnStatus" role="status" aria-live="polite"></div>
```

---

## 3. sunflowers.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/sunflowers.js

**TODOs:**  
- Provide a text summary of the sunflower plot, updating it in a region with `aria-live="polite"`.
- Announce sampling actions and results to screen readers.
- Ensure all controls and dynamic updates are accessible and described.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/sunflowers.js

- Announce sunflower plot updates after updating any plot (e.g., in updateGraphDistributions()):
```javascript
UI.setProperty("divSunflowersPlotSummary", "innerText", "Sunflowers plot updated. Showing distribution of healthy plants for selected sample.");
```
- Announce sample generation after generating a sample:
```javascript
UI.setProperty("divStatus", "innerText", "Sample generated for " +
    (groupInd === 0 ? "Simple Random Sample" : groupInd === 1 ? "Stratify Row" : "Stratify Column") +
    ". Table and plot updated.");
```
- Announce mean calculation after updating mean spans:
```javascript
UI.setProperty(meanSpanIds[groupInd], "innerText", "Mean for " +
    (groupInd === 0 ? "SRS" : groupInd === 1 ? "Stratify Row" : "Stratify Column") +
    " group: " + format.formatNumber(mean));
```
- Announce table updates after updating tables:
```javascript
UI.setProperty(tblIds[groupInd] + "Status", "innerText", 
    (groupInd === 0 ? "SRS" : groupInd === 1 ? "Stratify Row" : "Stratify Column") +
    " table updated with new sample data.");
```
- Announce bulk sample generation:
```javascript
UI.setProperty("divStatus", "innerText", howMany + " samples generated for " +
    (type == 1 ? "SRS" : type == 2 ? "Stratify Row" : "Stratify Column") + ". Distribution updated.");
```
- Announce reveal/restart:
```javascript
UI.setProperty("divStatus", "innerText", "True mean revealed. All sample data shown in table and plots.");
```
**HTML Example for ARIA Live Regions:**
```html
<div id="divSunflowersPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
<div id="tblSRSStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyRowStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyColumnStatus" role="status" aria-live="polite"></div>
```

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/streak.js

- Announce updates to dotplot and simulation results.
- Announce summary statistics and table updates.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divStreakPlotSummary", "innerText", "Streak simulation dotplot updated.");
UI.setProperty("divStatus", "innerText", "Simulation complete. Results and statistics updated.");
UI.setProperty("spnSummaryStatistics", "aria-label", "Summary statistics for streak simulation.");
UI.setProperty("spnDotplotCountErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divStreakPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 4. x2dist.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/x2dist.js

**TODOs:**  
- Announce updates to chi-squared distribution plots and calculation results in ARIA live regions.
- Provide accessible summaries for CDF and inverse results.
- Use ARIA roles and labels for all dynamic content.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/x2dist.js

- Announce chi-squared distribution plot updates after plotting the distribution:
```javascript
UI.setProperty("divX2PlotSummary", "innerText", "Chi-squared distribution plot updated for degrees of freedom: " + df + ".");
```
- Announce CDF calculation results after updating CDF results:
```javascript
UI.setProperty("spnX2CdfResultSummary", "innerText", "CDF calculation complete. Area under curve: " + area + ".");
```
- Announce inverse calculation results after updating inverse results:
```javascript
UI.setProperty("spnX2InvResultSummary", "innerText", "Inverse calculation complete. " + (type == "center" ? "Range: " + format.formatNumber(leftVal) + " to " + format.formatNumber(rightVal) : "Value: " + format.formatNumber(value)));
```
- Announce error or validation messages:
```javascript
UI.setProperty("divX2Status", "innerText", "Error: " + errorMessage);
```
- Announce export/analysis state:
```javascript
UI.setProperty("divX2Status", "innerText", "Analysis available. Export enabled.");
```
**HTML Example for ARIA Live Regions:**
```html
<div id="divX2PlotSummary" role="status" aria-live="polite"></div>
<div id="spnX2CdfResultSummary" role="status" aria-live="polite"></div>
<div id="spnX2InvResultSummary" role="status" aria-live="polite"></div>
<div id="divX2Status" role="status" aria-live="polite"></div>
```

---

## 5. power.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/power.js

**TODOs:**  
- Announce changes in power plot area and calculation results.
- Provide text summaries for visualizations.
- Ensure all dynamic updates are reflected in accessible regions.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/power.js

- Announce updates to power plot area and calculation results:
```javascript
UI.setProperty("divPowerPlotSummary", "innerText", "Power plot area updated.");
UI.setProperty("divStatus", "innerText", "Power calculation complete. Results updated.");
UI.setProperty("spnErrorMsg", "aria-live", "polite");
```
**HTML Example for ARIA Live Regions:**
```html
<div id="divPowerPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 6. tswift_pt1.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/timberlake_common.js  
- js/timberlake_pt1.js

**TODOs:**  
- Announce updates to crowd plots and sample selections.
- Provide alternative text for visualizations.
- Ensure teacher panel and controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/timberlake_pt1.js

- Announce crowd plot updates after updating any crowd plot:
```javascript
UI.setProperty("divSRSPlotSummary", "innerText", "Simple Random Sample crowd plot updated.");
UI.setProperty("divStratifyRowPlotSummary", "innerText", "Stratify by Row crowd plot updated.");
UI.setProperty("divStratifyColumnPlotSummary", "innerText", "Stratify by Column crowd plot updated.");
```
- Announce sample selection after generating a sample:
```javascript
UI.setProperty("divStatus", "innerText", "Stratified sample by row selected. Crowd plot and statistics updated.");
UI.setProperty("divStatus", "innerText", "Stratified sample by column selected. Crowd plot and statistics updated.");
```
- Announce mean calculation after updating mean spans:
```javascript
UI.setProperty("spnMeanSRS", "innerText", "Mean for SRS group: " + meanValue);
UI.setProperty("spnMeanStratifyRow", "innerText", "Mean for Stratify Row group: " + meanValue);
UI.setProperty("spnMeanStratifyColumn", "innerText", "Mean for Stratify Column group: " + meanValue);
```
- Announce table updates after updating tables:
```javascript
UI.setProperty("tblSRSStatus", "innerText", "Simple Random Sample table updated with new data.");
UI.setProperty("tblStratifyRowStatus", "innerText", "Stratify by Row table updated with new data.");
UI.setProperty("tblStratifyColumnStatus", "innerText", "Stratify by Column table updated with new data.");
```
- Announce bulk sample generation:
```javascript
UI.setProperty("divStatus", "innerText", howMany + " samples generated for " + (type == 1 ? "SRS" : type == 2 ? "Stratify Row" : "Stratify Column") + ". Distribution updated.");
```
**HTML Example for ARIA Live Regions:**
```html
<div id="divSRSPlotSummary" role="status" aria-live="polite"></div>
<div id="divStratifyRowPlotSummary" role="status" aria-live="polite"></div>
<div id="divStratifyColumnPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
<div id="tblSRSStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyRowStatus" role="status" aria-live="polite"></div>
<div id="tblStratifyColumnStatus" role="status" aria-live="polite"></div>
```

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/prefs.js

- Announce updates to preferences plot example.
- Announce changes to rounding and display preferences.

**Code Examples:**
```javascript
UI.setProperty("divPreferencesPlotSummary", "innerText", "Preferences plot example updated.");
UI.setProperty("divStatus", "innerText", "Preferences updated.");
```
**HTML Example:**
```html
<div id="divPreferencesPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/poisson.js

- Announce updates to Poisson distribution plot and calculation results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divPoissonPlotSummary", "innerText", "Poisson distribution plot updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnPoissonMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divPoissonPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/quant1v_single_collab.js

- Announce updates to main plot, stemplot, and summary statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divMainPlotSummary", "innerText", "Main plot updated for collaborative activity.");
UI.setProperty("divStemplotSummary", "innerText", "Stemplot updated for collaborative activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divMainPlotSummary" role="status" aria-live="polite"></div>
<div id="divStemplotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/prefs_dialog.js

- Announce updates to preferences plot example in dialog.
- Announce dialog state changes.

**Code Examples:**
```javascript
_dlgUI.setProperty("divPrefDlgPlotSummary", "innerText", "Preferences dialog plot example updated.");
_dlgUI.setProperty("divStatus", "innerText", "Preferences dialog updated.");
```
**HTML Example:**
```html
<div id="divPrefDlgPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/quant2v_collab.js

- Announce updates to collaborative plots and statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divCollaborativePlotSummary", "innerText", "Collaborative plot updated for two-variable activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divCollaborativePlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 7. streak.html
**JavaScript Files:**  
- js/jstat.min.js  
- js/d3.v3.min.js  
- js/stapplet_latest.js  
- js/streak.js

**TODOs:**  
- Announce updates to dotplots and simulation results.
- Provide accessible summaries for streak statistics.
- Ensure all controls are keyboard and screen reader accessible.

---

## 8. quant1v_multi_collab.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/quant1v_multi_collab.js

**TODOs:**  
- Announce updates to main plot, stemplot, and summary statistics.
- Provide text summaries for all visualizations.
- Ensure collaborative controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/quant1v_multi_collab.js

- Announce updates to main plot, stemplot, and summary statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divMainPlotSummary", "innerText", "Main plot updated for multi-group collaborative activity.");
UI.setProperty("divStemplotSummary", "innerText", "Stemplot updated for multi-group collaborative activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divMainPlotSummary" role="status" aria-live="polite"></div>
<div id="divStemplotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 9. multreg.html
**JavaScript Files:**  
- js/jstat.min.js  
- js/d3.v3.min.js  
- js/stapplet_latest.js  
- js/multreg.js

**TODOs:**  
- Announce regression model results and residual plots.
- Provide accessible summaries for all statistical outputs.
- Ensure prediction controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/multreg.js

- Announce updates to regression model results and residual plots.
- Announce summary statistics and prediction results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divRegressionResultsSummary", "innerText", "Regression model results updated.");
UI.setProperty("divResidualPlotSummary", "innerText", "Residual plot updated.");
UI.setProperty("divPredictionResultSummary", "innerText", "Prediction result updated.");
UI.setProperty("divStatus", "innerText", "Model and statistics updated.");
```
**HTML Example:**
```html
<div id="divRegressionResultsSummary" role="status" aria-live="polite"></div>
<div id="divResidualPlotSummary" role="status" aria-live="polite"></div>
<div id="divPredictionResultSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 10. parkinsons.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/parkinsons.js

**TODOs:**  
- Announce updates to guess icons and results plots.
- Provide text summaries for all dynamic content.
- Ensure all interactive elements are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/parkinsons.js

- Announce updates to guess icons and results plot.
- Announce summary statistics and table updates.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divResultsPlotSummary", "innerText", "Results plot updated for Parkinson's activity.");
UI.setProperty("divStatus", "innerText", "Activity complete. Results and statistics updated.");
UI.setProperty("spnSummaryStatistics", "aria-label", "Summary statistics for Parkinson's activity.");
UI.setProperty("spnDotplotCountErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divResultsPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 11. tdist.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/tdist.js

**TODOs:**  
- Announce updates to t-distribution plots and analysis.
- Provide accessible summaries for calculation results.
- Ensure all controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/tdist.js

- Announce updates to t-distribution plot and analysis.
- Announce calculation results and error messages.

**Code Examples:**
```javascript
UI.setProperty("divTPlotSummary", "innerText", "t distribution plot updated.");
UI.setProperty("divTAnalysisSummary", "innerText", "t distribution analysis updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnTMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divTPlotSummary" role="status" aria-live="polite"></div>
<div id="divTAnalysisSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## Detailed Code Examples for Accessibility Edits (Remaining JS Files)

### /public_html/js/streak.js

- Announce updates to dotplot and simulation results.
- Announce summary statistics and table updates.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divStreakPlotSummary", "innerText", "Streak simulation dotplot updated.");
UI.setProperty("divStatus", "innerText", "Simulation complete. Results and statistics updated.");
UI.setProperty("spnSummaryStatistics", "aria-label", "Summary statistics for streak simulation.");
UI.setProperty("spnDotplotCountErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divStreakPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/logic_sig.js

- Announce updates to simulation results plot and dotplot options.
- Announce summary statistics and CSV export.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divSimulationResultsPlotSummary", "innerText", "Simulation results plot updated.");
UI.setProperty("divStatus", "innerText", "Simulation complete. Results and statistics updated.");
UI.setProperty("spnSimulationSummaryStatistics", "aria-label", "Summary statistics for simulation.");
UI.setProperty("spnSimulationDotplotCountErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divSimulationResultsPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/parkinsons.js

- Announce updates to guess icons and results plot.
- Announce summary statistics and table updates.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divResultsPlotSummary", "innerText", "Results plot updated for Parkinson's activity.");
UI.setProperty("divStatus", "innerText", "Activity complete. Results and statistics updated.");
UI.setProperty("spnSummaryStatistics", "aria-label", "Summary statistics for Parkinson's activity.");
UI.setProperty("spnDotplotCountErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divResultsPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/prefs.js

- Announce updates to preferences plot example.
- Announce changes to rounding and display preferences.

**Code Examples:**
```javascript
UI.setProperty("divPreferencesPlotSummary", "innerText", "Preferences plot example updated.");
UI.setProperty("divStatus", "innerText", "Preferences updated.");
```
**HTML Example:**
```html
<div id="divPreferencesPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/poisson.js

- Announce updates to Poisson distribution plot and calculation results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divPoissonPlotSummary", "innerText", "Poisson distribution plot updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnPoissonMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divPoissonPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/quant1v_single_collab.js

- Announce updates to main plot, stemplot, and summary statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divMainPlotSummary", "innerText", "Main plot updated for collaborative activity.");
UI.setProperty("divStemplotSummary", "innerText", "Stemplot updated for collaborative activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divMainPlotSummary" role="status" aria-live="polite"></div>
<div id="divStemplotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/prefs_dialog.js

- Announce updates to preferences plot example in dialog.
- Announce dialog state changes.

**Code Examples:**
```javascript
_dlgUI.setProperty("divPrefDlgPlotSummary", "innerText", "Preferences dialog plot example updated.");
_dlgUI.setProperty("divStatus", "innerText", "Preferences dialog updated.");
```
**HTML Example:**
```html
<div id="divPrefDlgPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/quant1v_multi_collab.js

- Announce updates to main plot, stemplot, and summary statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divMainPlotSummary", "innerText", "Main plot updated for multi-group collaborative activity.");
UI.setProperty("divStemplotSummary", "innerText", "Stemplot updated for multi-group collaborative activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divMainPlotSummary" role="status" aria-live="polite"></div>
<div id="divStemplotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/quant2v_collab.js

- Announce updates to collaborative plots and statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divCollaborativePlotSummary", "innerText", "Collaborative plot updated for two-variable activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divCollaborativePlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/multreg.js

- Announce updates to regression model results and residual plots.
- Announce summary statistics and prediction results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divRegressionResultsSummary", "innerText", "Regression model results updated.");
UI.setProperty("divResidualPlotSummary", "innerText", "Residual plot updated.");
UI.setProperty("divPredictionResultSummary", "innerText", "Prediction result updated.");
UI.setProperty("divStatus", "innerText", "Model and statistics updated.");
```
**HTML Example:**
```html
<div id="divRegressionResultsSummary" role="status" aria-live="polite"></div>
<div id="divResidualPlotSummary" role="status" aria-live="polite"></div>
<div id="divPredictionResultSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/timberlake_pt2.js

- Announce updates to crowd plots and sample selections.
- Announce teacher panel and admin options.
- Announce summary statistics and table updates.

**Code Examples:**
```javascript
UI.setProperty("divSRSPlotSummary", "innerText", "Simple Random Sample crowd plot updated.");
UI.setProperty("divClusterPlotSummary", "innerText", "Cluster Sample crowd plot updated.");
UI.setProperty("divSystematicPlotSummary", "innerText", "Systematic Sample crowd plot updated.");
UI.setProperty("divTeacherPanelSummary", "innerText", "Teacher panel admin options updated.");
UI.setProperty("divStatus", "innerText", "Statistics and controls updated.");
```
**HTML Example:**
```html
<div id="divSRSPlotSummary" role="status" aria-live="polite"></div>
<div id="divClusterPlotSummary" role="status" aria-live="polite"></div>
<div id="divSystematicPlotSummary" role="status" aria-live="polite"></div>
<div id="divTeacherPanelSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/power.js

- Announce updates to power plot area and calculation results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divPowerPlotSummary", "innerText", "Power plot area updated.");
UI.setProperty("divStatus", "innerText", "Power calculation complete. Results updated.");
UI.setProperty("spnErrorMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divPowerPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/normal.js

- Announce updates to normal distribution plot and analysis.
- Announce calculation results and error messages.

**Code Examples:**
```javascript
UI.setProperty("divNormalPlotSummary", "innerText", "Normal distribution plot updated.");
UI.setProperty("divNormalAnalysisSummary", "innerText", "Normal distribution analysis updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnNormalMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divNormalPlotSummary" role="status" aria-live="polite"></div>
<div id="divNormalAnalysisSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/tdist.js

- Announce updates to t-distribution plot and analysis.
- Announce calculation results and error messages.

**Code Examples:**
```javascript
UI.setProperty("divTPlotSummary", "innerText", "t distribution plot updated.");
UI.setProperty("divTAnalysisSummary", "innerText", "t distribution analysis updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnTMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divTPlotSummary" role="status" aria-live="polite"></div>
<div id="divTAnalysisSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/index.js

- Announce updates to resource tables and headers.
- Announce navigation and controls.

**Code Examples:**
```javascript
UI.setProperty("divTextbookResourcesSummary", "innerText", "Textbook resources updated.");
UI.setProperty("divMathMedicResourcesSummary", "innerText", "Math Medic resources updated.");
UI.setProperty("divStatus", "innerText", "Navigation and resources updated.");
```
**HTML Example:**
```html
<div id="divTextbookResourcesSummary" role="status" aria-live="polite"></div>
<div id="divMathMedicResourcesSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

### /public_html/js/sampdist.js

- Announce updates to population and sampling distribution plots.
- Announce summary statistics and table updates.

**Code Examples:**
```javascript
UI.setProperty("divPopulationPlotSummary", "innerText", "Population plot updated.");
UI.setProperty("divSamplingDistPlotSummary", "innerText", "Sampling distribution plot updated.");
UI.setProperty("divStatus", "innerText", "Statistics and controls updated.");
```
**HTML Example:**
```html
<div id="divPopulationPlotSummary" role="status" aria-live="polite"></div>
<div id="divSamplingDistPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 12. normal.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/normal.js

**TODOs:**  
- Announce updates to normal distribution plots and analysis.
- Provide text summaries for all visualizations.
- Ensure all interactive controls are accessible.

---

## 13. quant1v_single_collab.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/quant1v_single_collab.js

**TODOs:**  
- Announce updates to main plot, stemplot, and summary statistics.
- Provide accessible summaries for all dynamic content.
- Ensure collaborative controls are accessible.

---

## 14. index.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/stapplet_latest.js  
- js/index.js

**TODOs:**  
- Announce updates to resource tables and headers.
- Provide accessible summaries for all dynamic content.
- Ensure navigation and controls are accessible.

---

## 15. logic_sig.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/logic_sig.js

**TODOs:**  
- Announce updates to simulation results and dotplot options.
- Provide text summaries for all visualizations.
- Ensure all controls are accessible.

---

## 16. timberlake_pt2.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/timberlake_common.js  
- js/timberlake_pt2.js

**TODOs:**  
- Announce updates to crowd plots and sample selections.
- Provide alternative text for visualizations.
- Ensure teacher panel and controls are accessible.

---

## 17. sampdist.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/sampdist.js

**TODOs:**  
- Announce updates to population and sampling distribution plots.
- Provide accessible summaries for statistics.
- Ensure all controls are accessible.

---

## 18. prefs.html
**JavaScript Files:**  
- js/jstat.min.js  
- js/d3.v3.min.js  
- js/stapplet_latest.js  
- js/prefs.js

**TODOs:**  
- Announce updates to preferences plot example.
- Provide accessible summaries for all dynamic content.
- Ensure all controls are accessible.

---

## 19. tswift_pt2.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/timberlake_common.js  
- js/timberlake_pt2.js

**TODOs:**  
- Announce updates to crowd plots and sample selections.
- Provide alternative text for visualizations.
- Ensure teacher panel and controls are accessible.

---

## 20. prefs_dialog.html
**JavaScript Files:**  
- js/prefs_dialog.js

**TODOs:**  
- Announce updates to preferences plot example.
- Provide accessible summaries for all dynamic content.
- Ensure dialog controls are accessible.

---

## 21. quant2v_collab.html
**JavaScript Files:**  
- js/d3.v3.min.js  
- js/jstat.min.js  
- js/stapplet_latest.js  
- js/collab_common_quant.js  
- js/quant2v_collab.js

**TODOs:**  
- Announce updates to collaborative plots and statistics.
- Provide accessible summaries for all dynamic content.
- Ensure collaborative controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/quant2v_collab.js

- Announce updates to collaborative plots and statistics.
- Announce collaborative controls and state changes.

**Code Examples:**
```javascript
UI.setProperty("divCollaborativePlotSummary", "innerText", "Collaborative plot updated for two-variable activity.");
UI.setProperty("divStatus", "innerText", "Summary statistics updated.");
```
**HTML Example:**
```html
<div id="divCollaborativePlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

## 22. poisson.html
**JavaScript Files:**  
- js/jstat.min.js  
- js/d3.v3.min.js  
- js/stapplet_latest.js  
- js/poisson.js

**TODOs:**  
- Announce updates to Poisson distribution plots.
- Provide accessible summaries for all dynamic content.
- Ensure all controls are accessible.

**Detailed Code Examples for Accessibility Edits:**

### /public_html/js/poisson.js

- Announce updates to Poisson distribution plot and calculation results.
- Announce error messages and state changes.

**Code Examples:**
```javascript
UI.setProperty("divPoissonPlotSummary", "innerText", "Poisson distribution plot updated.");
UI.setProperty("divStatus", "innerText", "Calculation complete. Results updated.");
UI.setProperty("spnPoissonMsg", "aria-live", "polite");
```
**HTML Example:**
```html
<div id="divPoissonPlotSummary" role="status" aria-live="polite"></div>
<div id="divStatus" role="status" aria-live="polite"></div>
```

---

# General Recommendations

- For each visualization, provide a dynamically updated text summary in an element with `aria-live="polite"` or `role="status"`.
- Use ARIA roles (`region`, `img`, `table`, etc.) and descriptive `aria-label`s for all dynamic content.
- Ensure all interactive controls are keyboard accessible and have appropriate ARIA attributes.
- Announce changes in data, selections, or results to screen readers.
- Consider using focus management to direct screen reader users to updated regions when appropriate.

---

**Next Steps:**  
- Review each JavaScript file for dynamic content generation.
- Implement ARIA live regions and text summaries for all visual outputs.
- Test with screen readers (NVDA, JAWS, VoiceOver) to verify announcements and accessibility.
- Document changes and update accessibility statements as improvements are made.
